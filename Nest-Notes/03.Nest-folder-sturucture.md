# ğŸš€ NestJS Project - Super Detailed Notes

---

## ğŸ“ Folder Structure & Config Overview

### ğŸ“‚ Project Folder Tree

```plaintext
nestjs-app/
â”œâ”€â”€ node_modules/             # Installed dependencies
â”œâ”€â”€ src/                      # Main source folder
â”‚   â”œâ”€â”€ app.controller.ts     # Root controller
â”‚   â”œâ”€â”€ app.module.ts         # Root module
â”‚   â”œâ”€â”€ app.service.ts        # Root service
â”‚   â””â”€â”€ main.ts               # Entry point
â”œâ”€â”€ test/                     # E2E tests
â”œâ”€â”€ .eslintrc.js              # ESLint configuration
â”œâ”€â”€ .gitignore                # Git ignore file
â”œâ”€â”€ nest-cli.json             # Nest CLI config
â”œâ”€â”€ package.json              # Scripts and dependencies
â”œâ”€â”€ pnpm-lock.yaml            # Dependency lock file (for pnpm)
â”œâ”€â”€ tsconfig.json             # TypeScript configuration
â””â”€â”€ README.md                 # Project documentation
```

---

### 1. `node_modules/`

* Contains all dependencies installed via `pnpm install` or `npm install`.
* Auto-generated.
* **Do not edit manually.**

---

### 2. `src/`

* Main source code of the application.
* Contains:

  * `app.module.ts`: Root module.
  * `app.controller.ts`: Handles routes and HTTP requests.
  * `app.service.ts`: Business logic layer.
  * `main.ts`: Entry point of the application.

---

### 3. `.gitignore`

* Specifies files and folders to be ignored by Git.
* E.g., `node_modules`, `dist`, `.env`.

---

### 4. `.eslintrc.js` or `.eslintrc.json`

* ESLint config to enforce code quality and best practices.
* Used during development to catch errors and format code.

---

### 5. `prettier.config.js` or `.prettierrc`

* Defines code formatting rules.
* Used with Prettier to maintain code consistency.

---

### 6. `nest-cli.json`

* NestJS CLI config file.
* Used for managing paths, collections, or schematics used during generation.

---

### 7. `package.json`

* Contains:

  * Project metadata.
  * Scripts like `start:dev`, `build`, `test`.
  * Dependency list (prod + dev).
* Example scripts:

  ```json
  "start:dev": "nest start --watch"
  ```

---

### 8. `tsconfig.json`

* TypeScript config file.
* Controls compiler options like module resolution, strict typing, output paths.

---

### 9. `test/`

* Contains end-to-end tests (E2E).
* Auto-generated test boilerplates.
* Test structure integrated out-of-the-box (unlike Express.js where manual setup is needed).

---

## âš™ï¸ Running the Project

### âœ… Start the Dev Server

```bash
pnpm run start:dev
```

* Uses port `3000` by default.
* URL: `http://localhost:3000`
* Displays: `Hello World` response.

---

## ğŸ§­ Request Flow in NestJS (Compared to Express.js)

### ğŸ§± Express.js Flow

1. **User** sends request
2. Goes to **Middleware**
3. Then to **Routes**
4. Routed to specific **Controller**
5. Controller may call **Service**
6. Service interacts with **Database**
7. Response returns to **User**

---

### ğŸ§± NestJS Flow

* Nest abstracts this flow using **Modules**:

  ```
  Middleware â†’ Routes â†’ Controller â†’ Service â†’ Database â†’ Response
  ```

#### ğŸ’¡ Key Concepts:

| Layer           | Description                                                   |
| --------------- | ------------------------------------------------------------- |
| **Middleware**  | Logic that runs before reaching routes (e.g., logging, auth). |
| **Routes**      | Defined using decorators like `@Get`, `@Post`, etc.           |
| **Controllers** | Handle request & response. Call services for logic.           |
| **Services**    | Contain business logic. Return data to controllers.           |
| **Modules**     | Group related controllers, services, and providers.           |
| **Database**    | Data layer interaction (not shown in this example).           |

---

## ğŸ§© NestJS Core Building Blocks

### 1. ğŸ“¦ Module (`app.module.ts`)

* Root module of the app.
* Decorated with `@Module()` decorator.
* Groups:

  * `imports` â€“ other modules.
  * `controllers` â€“ controllers part of this module.
  * `providers` â€“ services (or any dependency) to inject.

```ts
@Module({
  imports: [],
  controllers: [AppController],
  providers: [AppService],
})
export class AppModule {}
```

---

### 2. ğŸ§  Service (`app.service.ts`)

* Handles business logic.
* Decorated with `@Injectable()`
* Can be injected into controllers or other services.
* Example:

```ts
@Injectable()
export class AppService {
  getHello(): string {
    return 'Hello World';
  }
}
```

---

### 3. ğŸ® Controller (`app.controller.ts`)

* Handles incoming HTTP requests.
* Uses decorators like `@Controller()`, `@Get()`, `@Post()`, etc.
* Injects services via constructor (Dependency Injection).

```ts
@Controller()
export class AppController {
  constructor(private readonly appService: AppService) {}

  @Get()
  getHello(): string {
    return this.appService.getHello();
  }
}
```

---

### 4. ğŸšª Entry Point (`main.ts`)

* The app starts here.
* Bootstraps the NestJS app with the root module.

```ts
async function bootstrap() {
  const app = await NestFactory.create(AppModule);
  await app.listen(3000);
}
bootstrap();
```

* Behind the scenes, it's still an Express.js server (by default).

---

## ğŸ”„ Dependency Injection (DI)

* NestJS uses DI to inject services (or other classes) where needed.
* `@Injectable()` marks a class as available for DI.
* Injected via constructor:

  ```ts
  constructor(private readonly appService: AppService) {}
  ```

---

## ğŸ§ª Testing in NestJS

* Comes with **built-in testing support**.
* Uses Jest under the hood.
* Folder: `/test`
* You can generate test files using CLI, saving boilerplate setup time.

---

## ğŸ§± Module System Philosophy

* Every feature = 1 module.
* A module is just a **logical grouping** of:

  * Controllers
  * Services
  * Providers
* For example:

  * `UsersModule` â†’ `users.controller.ts`, `users.service.ts`
  * `AuthModule` â†’ authentication-related logic

---

## ğŸ†• Next Steps (as per video)

* Create a new **Auth Module**:

  ```bash
  nest g module auth
  nest g controller auth
  nest g service auth
  ```

* Use it to:

  * Register users
  * Handle authentication flows (e.g., JWT login)

---

## ğŸ“ Summary

| Concept              | NestJS Keyword / Syntax      |
| -------------------- | ---------------------------- |
| Grouping logic       | `@Module()`                  |
| Entry point          | `main.ts`                    |
| Routes               | `@Get()`, `@Post()`          |
| Controllers          | `@Controller()`              |
| Services             | `@Injectable()`              |
| Dependency Injection | Constructor-based            |
| Business logic       | Inside services              |
| Testing              | Out-of-the-box with CLI/Jest |

